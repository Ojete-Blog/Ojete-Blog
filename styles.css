:root{
  --bg:#000;
  --bg2:#06070b;
  --panel:#07090f;
  --panel2:#0a0d15;
  --stroke:rgba(255,255,255,.10);
  --stroke2:rgba(255,255,255,.14);
  --txt:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.66);
  --muted2:rgba(255,255,255,.52);
  --pri:#3b82f6;
  --pri2:#60a5fa;
  --good:#22c55e;
  --warn:#f59e0b;
  --bad:#ef4444;

  --r:18px;
  --r2:14px;
  --shadow:0 22px 70px rgba(0,0,0,.60);
  --shadow2:0 10px 32px rgba(0,0,0,.55);

  --maxw:1400px;
  --ease:cubic-bezier(.2,.9,.2,1);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background:var(--bg);
  color:var(--txt);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}

.hidden{ display:none !important; }

.ms{
  font-family:"Material Symbols Rounded";
  font-weight:500;
  font-style:normal;
  font-size:20px;
  line-height:1;
  display:inline-block;
  vertical-align:middle;
  font-variation-settings:"FILL" 0,"wght" 500,"GRAD" 0,"opsz" 20;
  user-select:none;
}

a{ color:inherit; }

/* ===== Header (ARREGLADO: un solo header real, sin duplicados) ===== */
.topbar{
  position:sticky;
  top:0;
  z-index:50;
  border-bottom:1px solid var(--stroke);
  background:linear-gradient(180deg, rgba(0,0,0,.88), rgba(0,0,0,.70));
  backdrop-filter: blur(10px);
}

.topBg{
  position:absolute;
  inset:0;
  overflow:hidden;
  pointer-events:none;
}

.topBgImg{
  width:100%;
  height:100%;
  display:block;
  object-fit:cover;
  object-position:center;
  transform:scale(1.02);
  filter:saturate(.85) contrast(1.05);
  opacity:.45;
}

.topBgShade{
  position:absolute;
  inset:0;
  background:
    radial-gradient(90% 120% at 20% 0%, rgba(0,0,0,.10), rgba(0,0,0,.78) 55%, rgba(0,0,0,.92)),
    linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.92));
}

.topInner{
  position:relative;
  max-width:var(--maxw);
  margin:0 auto;
  padding:14px 14px;
  display:grid;
  grid-template-columns: 1fr auto auto;
  align-items:center;
  gap:12px;
}

.brand{
  display:flex;
  align-items:center;
  gap:12px;
  min-width:0;
}

.brandLogo{
  width:46px;
  height:46px;
  border-radius:16px;
  border:1px solid var(--stroke2);
  background:rgba(0,0,0,.35);
  object-fit:cover;
}

.brandTxt{ min-width:0; }
.brandTitle{
  font-weight:950;
  letter-spacing:.2px;
  font-size:16px;
  line-height:1.05;
}
.brandSub{
  margin-top:4px;
  color:var(--muted);
  font-size:12.5px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.topMeta{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
  justify-content:flex-end;
}

.pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 10px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.42);
  color:rgba(255,255,255,.82);
  font-size:12.5px;
  font-weight:800;
}

.topActions{
  display:flex;
  justify-content:flex-end;
  gap:10px;
  flex-wrap:wrap;
}

.btn{
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  color:rgba(255,255,255,.88);
  border-radius:14px;
  padding:10px 12px;
  cursor:pointer;
  font-weight:900;
  display:inline-flex;
  align-items:center;
  gap:8px;
  transition: transform .12s var(--ease), background .12s var(--ease), border-color .12s var(--ease);
  text-decoration:none;
}
.btn:hover{ background:rgba(255,255,255,.07); border-color:rgba(255,255,255,.16); }
.btn:active{ transform:scale(.99); }
.btn.pri{
  background:rgba(59,130,246,.18);
  border-color:rgba(59,130,246,.45);
}
.btn.pri:hover{ background:rgba(59,130,246,.24); border-color:rgba(96,165,250,.55); }
.btn.link{ background:rgba(255,255,255,.03); }
.btnLbl{ font-size:13px; }

.iconBtn{
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  color:rgba(255,255,255,.86);
  border-radius:14px;
  width:42px;
  height:42px;
  display:grid;
  place-items:center;
  cursor:pointer;
  transition: background .12s var(--ease), border-color .12s var(--ease), transform .12s var(--ease);
}
.iconBtn:hover{ background:rgba(255,255,255,.07); border-color:rgba(255,255,255,.16); }
.iconBtn:active{ transform:scale(.99); }

/* ===== Layout ===== */
.layout{
  max-width:var(--maxw);
  margin:0 auto;
  padding:14px 14px 86px 14px;
  display:grid;
  grid-template-columns: 280px minmax(0,1fr) 380px;
  gap:14px;
}

@media (max-width: 1180px){
  .layout{ grid-template-columns: 1fr; padding-bottom: 92px; }
  .left{ order:2; }
  .right{ order:3; }
}

/* ===== Panels ===== */
.panel{
  border-radius:var(--r);
  border:1px solid var(--stroke);
  background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02));
  box-shadow:var(--shadow2);
  overflow:hidden;
}

.panelHead{
  padding:12px 12px;
  border-bottom:1px solid var(--stroke);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.panelHead.slim{ padding:10px 12px; }
.panelTitle{
  display:inline-flex;
  gap:8px;
  align-items:center;
  font-weight:950;
}

.panelBody{ padding:12px; }
.panelFoot{
  padding:12px;
  border-top:1px solid var(--stroke);
}
.panelFoot.slim{ padding:10px 12px; }

.headActions{
  display:flex;
  gap:8px;
  align-items:center;
}

/* ===== Left content ===== */
.hint{
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.35);
  border-radius:16px;
  padding:12px;
}
.hintTitle{ font-weight:950; }
.hintText{ margin-top:6px; color:var(--muted); font-size:13px; line-height:1.45; }

.quick{ margin-top:12px; display:flex; flex-direction:column; gap:10px; }
.quickRow{
  display:flex; gap:10px; align-items:flex-start;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.03);
  border-radius:16px;
  padding:10px 12px;
}
.quickTxt{ color:rgba(255,255,255,.80); font-size:13px; line-height:1.35; }

/* ===== Search + Filters ===== */
.searchWrap{
  position:relative;
  flex:1 1 auto;
  min-width:0;
}
.search{
  width:100%;
  border-radius:16px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.35);
  color:var(--txt);
  padding:12px 12px 12px 42px;
  outline:none;
  font-weight:700;
}
.search:focus{ border-color:rgba(59,130,246,.55); box-shadow:0 0 0 3px rgba(59,130,246,.18); }
.searchIco{
  position:absolute;
  left:12px;
  top:50%;
  transform:translateY(-50%);
  color:rgba(255,255,255,.70);
}

.filters{
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
}
.filtersGroup{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:flex-end;
}
.select{
  border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.35);
  color:rgba(255,255,255,.90);
  padding:10px 10px;
  font-weight:900;
  outline:none;
}
.select:focus{ border-color:rgba(59,130,246,.55); box-shadow:0 0 0 3px rgba(59,130,246,.18); }

/* ===== Tabs (alineados, sin desorden) ===== */
.panelTabs{
  border-bottom:1px solid var(--stroke);
  padding:10px 12px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.tabs{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.tab{
  border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.03);
  color:rgba(255,255,255,.82);
  padding:9px 12px;
  font-weight:950;
  cursor:pointer;
  transition: background .12s var(--ease), border-color .12s var(--ease), transform .12s var(--ease);
}
.tab:hover{ background:rgba(255,255,255,.06); border-color:rgba(255,255,255,.16); }
.tab:active{ transform:scale(.99); }
.tab.isActive{
  background:rgba(59,130,246,.16);
  border-color:rgba(59,130,246,.45);
  color:rgba(255,255,255,.92);
}

/* ===== List ===== */
.list{
  padding:12px;
  display:grid;
  grid-template-columns: 1fr;
  gap:12px;
}

body.compact .list{ gap:10px; padding:10px; }

.err, .empty{
  margin:12px;
  border-radius:16px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.35);
  padding:12px;
}
.err{ border-color:rgba(239,68,68,.35); color:rgba(255,255,255,.92); }
.empty{ color:var(--muted); }

/* ===== Cards base ===== */
.card{
  border-radius:18px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.03);
  overflow:hidden;
}
.cardHead{
  padding:12px 12px 10px 12px;
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
}
.cardTitle{
  font-weight:950;
  line-height:1.25;
  font-size:14px;
}
.cardMeta{
  margin-top:8px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  color:var(--muted);
  font-size:12.5px;
}
.badge{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 8px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.25);
  color:rgba(255,255,255,.78);
  font-weight:900;
}
.badge.good{ border-color:rgba(34,197,94,.35); background:rgba(34,197,94,.12); }
.badge.warn{ border-color:rgba(245,158,11,.35); background:rgba(245,158,11,.12); }
.badge.pri{ border-color:rgba(59,130,246,.45); background:rgba(59,130,246,.12); }

.cardActions{
  display:flex;
  gap:8px;
  align-items:center;
  flex:0 0 auto;
}
.aBtn{
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.03);
  color:rgba(255,255,255,.82);
  border-radius:14px;
  padding:9px 10px;
  cursor:pointer;
  font-weight:950;
  display:inline-flex;
  align-items:center;
  gap:8px;
  transition: background .12s var(--ease), border-color .12s var(--ease), transform .12s var(--ease);
}
.aBtn:hover{ background:rgba(255,255,255,.06); border-color:rgba(255,255,255,.16); }
.aBtn:active{ transform:scale(.99); }
.aBtn.star.on{
  border-color:rgba(245,196,81,.45);
  background:rgba(245,196,81,.14);
}

/* ===== Meme media ===== */
.memeMedia{
  border-top:1px solid var(--stroke);
  background:#000;
}
.memeMedia img,
.memeMedia video{
  width:100%;
  height:auto;
  max-height:62vh;
  display:block;
  object-fit:contain;
  background:#000;
}
body.compact .memeMedia img,
body.compact .memeMedia video{ max-height:52vh; }

.memeFoot{
  padding:10px 12px 12px 12px;
  border-top:1px solid var(--stroke);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  flex-wrap:wrap;
}

.voteBox{
  display:flex;
  gap:8px;
  align-items:center;
  flex-wrap:wrap;
}
.voteBtn{
  width:40px;
  height:40px;
  border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.03);
  color:rgba(255,255,255,.86);
  display:grid;
  place-items:center;
  cursor:pointer;
  transition: background .12s var(--ease), border-color .12s var(--ease), transform .12s var(--ease);
}
.voteBtn:hover{ background:rgba(255,255,255,.06); border-color:rgba(255,255,255,.16); }
.voteBtn:active{ transform:scale(.99); }
.voteBtn.up.on{ border-color:rgba(34,197,94,.45); background:rgba(34,197,94,.14); }
.voteBtn.down.on{ border-color:rgba(239,68,68,.45); background:rgba(239,68,68,.14); }

.scorePill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 10px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.25);
  color:rgba(255,255,255,.82);
  font-weight:950;
  font-size:13px;
}

/* ===== Timeline ===== */
.timelineWrap{ padding:12px; }
.timelineMount{
  min-height:720px;
  border-radius:18px;
  overflow:hidden;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.35);
  position:relative;
}
.timelineMount iframe{
  width:100%;
  min-height:720px;
  border:0;
  display:block;
  background:transparent;
}
.timelineFallback{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  gap:10px;
  justify-content:center;
  align-items:center;
  padding:18px;
  text-align:center;
  background:rgba(0,0,0,.55);
}
.tlTitle{ font-weight:950; }
.tlText{ color:var(--muted); max-width:420px; line-height:1.45; }
.tlBtn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(59,130,246,.45);
  background:rgba(59,130,246,.14);
  text-decoration:none;
  font-weight:950;
}

/* ===== Toasts ===== */
.toasts{
  position:fixed;
  right:14px;
  bottom:14px;
  display:flex;
  flex-direction:column;
  gap:10px;
  z-index:90;
}
.toast{
  width:min(420px, calc(100vw - 28px));
  border-radius:18px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.80);
  box-shadow:var(--shadow);
  padding:10px 12px;
  display:flex;
  gap:10px;
  align-items:flex-start;
}
.toastImg{
  width:34px;height:34px;border-radius:14px;
  border:1px solid var(--stroke2);
  object-fit:cover;
}
.toastRow{ flex:1 1 auto; min-width:0; }
.toastTitle{ font-weight:950; margin:0; font-size:14px; }
.toastMsg{ margin-top:3px; color:rgba(255,255,255,.74); font-size:13px; line-height:1.35; }
.toastX{
  border:1px solid var(--stroke);
  background:transparent;
  color:rgba(255,255,255,.75);
  cursor:pointer;
  border-radius:12px;
  padding:6px 8px;
}
.toastX:hover{ background:rgba(255,255,255,.06); }

/* ===== Modal ===== */
.modal{
  position:fixed;
  inset:0;
  z-index:80;
  background:rgba(0,0,0,.72);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
}
.modalCard{
  width:min(520px, 100%);
  border-radius:22px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.82);
  box-shadow:var(--shadow);
  overflow:hidden;
}
.modalHead{
  padding:12px 12px;
  border-bottom:1px solid var(--stroke);
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.modalTitle{ font-weight:950; }
.modalBody{
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:10px 12px;
  border-radius:16px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.03);
}
.input{
  width:140px;
  max-width:45%;
  border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.35);
  color:rgba(255,255,255,.90);
  padding:10px 10px;
  font-weight:900;
  outline:none;
}
.input:focus{ border-color:rgba(59,130,246,.55); box-shadow:0 0 0 3px rgba(59,130,246,.18); }
.sep{
  height:1px;
  background:var(--stroke);
  margin:6px 0;
}
.modalFoot{
  padding:12px;
  border-top:1px solid var(--stroke);
  display:flex;
  justify-content:flex-end;
}

/* ===== Ticker ===== */
.ticker{
  position:fixed;
  left:14px;
  right:14px;
  bottom:14px;
  z-index:60;
  border-radius:18px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.84);
  box-shadow:var(--shadow);
  overflow:hidden;
}
.tickerInner{
  display:flex;
  align-items:center;
  gap:12px;
  padding:10px 10px;
}
.tickerLogo{
  width:38px;
  height:38px;
  border-radius:14px;
  border:1px solid var(--stroke2);
  object-fit:cover;
  background:rgba(0,0,0,.25);
}
.tickerViewport{
  position:relative;
  flex:1 1 auto;
  overflow:hidden;
  height:44px;
  border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  mask-image:linear-gradient(to right, transparent, black 10%, black 90%, transparent);
}
.tickerTrack{
  position:absolute;
  display:inline-flex;
  gap:18px;
  align-items:center;
  height:44px;
  padding:0 14px;
  white-space:nowrap;
  will-change:transform;
  animation:tickerMove var(--tickerDur, 28s) linear infinite;
}
.tickerTrack:hover{ animation-play-state:paused; }
@keyframes tickerMove{
  from{ transform:translateX(0); }
  to{ transform:translateX(-50%); }
}
.tickerItem{
  display:inline-flex;
  align-items:center;
  gap:8px;
  color:rgba(255,255,255,.86);
  font-weight:950;
  font-size:13px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.22);
}
