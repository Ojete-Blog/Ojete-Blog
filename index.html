<!doctype html>
<html lang="es" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#07080C" />
  <meta name="description" content="GlobalEye Trends ‚Äî Tendencias del momento (open data) + tu feed embebido en X, sin usar la API de X." />
  <meta name="referrer" content="strict-origin-when-cross-origin" />
  <meta name="robots" content="index,follow" />

  <link rel="manifest" href="./manifest.webmanifest" />
  <link rel="icon" href="./logo_ojo_favicon.png" />
  <link rel="apple-touch-icon" href="./logo_ojo_favicon.png" />

  <link rel="stylesheet" href="./styles.css" />

  <!-- ‚úÖ IMPORTANTE: carga el widget de X/Twitter desde HTML (no depende de app.js) -->
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

  <title>GlobalEye Trends</title>
</head>

<body>
  <noscript>
    <div class="noscript">
      Necesitas JavaScript para ver tendencias y el feed embebido.
    </div>
  </noscript>

  <!-- HERO -->
  <section class="hero">
    <img class="heroImg" src="./banner_ojo.jpg" alt="GlobalEye" />
    <div class="heroOverlay">
      <div class="heroBrand">
        <img class="heroLogo" src="./logo_ojo.jpg" alt="Logo" />
        <div class="heroTxt">
          <div class="heroTitle">GlobalEye Trends</div>
          <div class="heroSub">Tendencias (open data) + tu feed embebido ¬∑ sin API de X</div>
        </div>
      </div>

      <div class="heroCtas">
        <a class="cta ctaPrimary" href="https://x.com/GlobalEye_TV" target="_blank" rel="noreferrer">Abrir @GlobalEye_TV</a>
        <a class="cta ctaGhost" href="https://x.com/explore" target="_blank" rel="noreferrer">Explorar en X</a>
        <button id="btnConfig" class="cta" type="button">‚öôÔ∏è Config</button>
        <button id="btnTicker" class="cta" type="button" aria-pressed="false">üì° Ticker</button>
        <a class="cta ctaGhost" href="https://ko-fi.com/global_eye" target="_blank" rel="noreferrer">‚òï Ko-fi</a>
      </div>
    </div>
  </section>

  <div class="app">
    <!-- LEFT -->
    <aside class="left">
      <div class="brand">
        <div class="logo">
          <img class="logoImg" src="./logo_ojo.jpg" alt="Logo" />
        </div>
        <div>
          <div class="brandTitle">GlobalEye</div>
          <div class="brandSub">Tendencias & feed</div>
        </div>
      </div>

      <nav class="nav" aria-label="Navegaci√≥n">
        <button class="navItem isActive" type="button" data-nav="trends">
          <span class="ico" aria-hidden="true">üìà</span>
          <span>Tendencias</span>
        </button>
        <button class="navItem" type="button" data-nav="favs" id="navFavs">
          <span class="ico" aria-hidden="true">‚≠ê</span>
          <span>Favoritos</span>
        </button>
        <a class="navItem" href="https://x.com/GlobalEye_TV" target="_blank" rel="noreferrer">
          <span class="ico" aria-hidden="true">üßµ</span>
          <span>Tu perfil</span>
        </a>
        <a class="navItem" href="https://x.com/explore" target="_blank" rel="noreferrer">
          <span class="ico" aria-hidden="true">üîé</span>
          <span>Explorar en X</span>
        </a>
      </nav>

      <div class="leftFooter">
        <div class="pill">
          <span class="dot" aria-hidden="true"></span>
          <span id="netStatus">Conectando‚Ä¶</span>
        </div>

        <button id="btnRefresh" class="btn btnPrimary" type="button">Actualizar</button>
        <button id="btnCompact" class="btn btnGhost" type="button" aria-pressed="false">Modo compacto</button>

        <a class="btn btnKofi" href="https://ko-fi.com/global_eye" target="_blank" rel="noreferrer">
          ‚òï Donar en Ko-fi
        </a>

        <div class="hint">Open data + acceso directo a X con 1 click.</div>
      </div>
    </aside>

    <!-- CENTER -->
    <main class="center">
      <header class="topbar">
        <div class="topbarTitle">
          <h1>Tendencias ahora</h1>
          <div class="subtitle" id="lastUpdated">‚Äî</div>
        </div>

        <div class="searchWrap" role="search">
          <span class="searchIco" aria-hidden="true">üîé</span>
          <input id="q" class="search" type="search" placeholder="Buscar tendencia‚Ä¶" autocomplete="off" />
        </div>
      </header>

      <section class="panel">
        <div class="panelHead">
          <div class="panelTitle">Ranking</div>

          <div class="panelControls">
            <select id="selLang" class="select" title="Idioma de fuentes">
              <option value="spanish" selected>ES</option>
              <option value="english">EN</option>
              <option value="mixed">Mixto</option>
            </select>

            <select id="selWindow" class="select" title="Ventana temporal">
              <option value="2H">√öltimas 2h</option>
              <option value="4H" selected>√öltimas 4h</option>
              <option value="6H">√öltimas 6h</option>
              <option value="12H">√öltimas 12h</option>
            </select>

            <select id="selGeo" class="select" title="Geo">
              <option value="ES" selected>Espa√±a</option>
              <option value="GLOBAL">Global</option>
            </select>
          </div>
        </div>

        <div class="subHead">
          <div class="tabs" id="tabsView" role="tablist" aria-label="Vista">
            <button class="tab isActive" type="button" data-view="all" role="tab" aria-selected="true">Todo</button>
            <button class="tab" type="button" data-view="favs" role="tab" aria-selected="false">Favoritos</button>
          </div>

          <div class="tabs tabsCat" id="tabsCat" role="tablist" aria-label="Categor√≠a">
            <button class="tab isActive" type="button" data-cat="all" role="tab" aria-selected="true">All</button>
            <button class="tab" type="button" data-cat="news" role="tab" aria-selected="false">Noticias</button>
            <button class="tab" type="button" data-cat="viral" role="tab" aria-selected="false">Viral</button>
            <button class="tab" type="button" data-cat="politics" role="tab" aria-selected="false">Pol√≠tica</button>
            <button class="tab" type="button" data-cat="sports" role="tab" aria-selected="false">Deportes</button>
          </div>
        </div>

        <div id="err" class="errorBox hidden"></div>
        <div id="empty" class="empty hidden">Sin resultados‚Ä¶</div>

        <div id="list" class="trendList" aria-live="polite"></div>
      </section>
    </main>

    <!-- RIGHT -->
    <aside class="right">
      <div class="rightCard">
        <div class="rightTitle">Tu feed</div>
        <div class="rightSub">Embed oficial (sin API). Si tu navegador bloquea el widget, usa el bot√≥n de abrir perfil.</div>
        <div class="timelineWrap" id="timelineWrap">
          <div id="timelineMount" class="timelineMount">
            <!-- app.js inyecta aqu√≠ el <a class="twitter-timeline"> -->
          </div>
        </div>

        <div class="quick">
          <a class="chip" href="https://x.com/GlobalEye_TV" target="_blank" rel="noreferrer">üßµ @GlobalEye_TV</a>
          <a class="chip" href="https://x.com/explore" target="_blank" rel="noreferrer">üîé Explorar</a>
          <a class="chip" href="https://x.com/search?q=%23UltimaHora&f=top" target="_blank" rel="noreferrer">#UltimaHora</a>
        </div>
      </div>

      <div class="rightCard">
        <div class="rightTitle">Tip r√°pido</div>
        <div class="rightSub">
          Si no ves tendencias, suele ser por CORS/bloqueos. Esta versi√≥n incluye fallback JSONP para que tire igual.
        </div>
      </div>
    </aside>
  </div>

  <!-- TICKER -->
  <div id="tickerBar" class="ticker hidden" role="region" aria-label="Ticker">
    <div class="tickerInner">
      <img class="tickerLogo" src="./logo_ojo.jpg" alt="" />
      <div class="tickerViewport">
        <div id="tickerTrack" class="tickerTrack"></div>
      </div>
      <button id="tickerClose" class="tickerClose" type="button" aria-label="Cerrar ticker">‚úï</button>
    </div>
  </div>

  <!-- CONFIG MODAL -->
  <div id="cfgModal" class="modal hidden" role="dialog" aria-modal="true" aria-label="Configuraci√≥n">
    <div class="modalCard">
      <div class="modalHead">
        <div class="modalTitle">Configuraci√≥n</div>
        <button id="cfgClose" class="modalX" type="button" aria-label="Cerrar">‚úï</button>
      </div>

      <div class="modalBody">
        <label class="row">
          <span>Auto refresco</span>
          <input id="cfgAuto" type="checkbox" />
        </label>

        <label class="row">
          <span>Cada (seg)</span>
          <input id="cfgEvery" type="number" min="35" max="900" step="5" value="120" />
        </label>

        <label class="row">
          <span>M√°x tendencias</span>
          <input id="cfgMaxTrends" type="number" min="10" max="80" step="5" value="35" />
        </label>

        <label class="row">
          <span>Alertas suaves</span>
          <input id="cfgAlerts" type="checkbox" />
        </label>

        <label class="row">
          <span>Ticker activo</span>
          <input id="cfgTicker" type="checkbox" />
        </label>

        <label class="row">
          <span>Velocidad ticker (s)</span>
          <input id="cfgTickerSpeed" type="number" min="12" max="120" step="2" value="28" />
        </label>
      </div>

      <div class="modalFoot">
        <button id="cfgSave" class="btn btnPrimary" type="button">Guardar</button>
      </div>
    </div>
  </div>

  <!-- TOASTS -->
  <div id="toastHost" class="toasts" aria-live="polite" aria-relevant="additions"></div>

  <script defer src="./app.js"></script>
</body>
</html>
