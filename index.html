<!doctype html>
<html lang="es" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#070A12" />
  <meta name="description" content="GlobalEye Trends ‚Äî Feed embebido de X (sin API) con media + tendencias actuales (open data)." />
  <meta name="referrer" content="strict-origin-when-cross-origin" />
  <meta name="robots" content="index,follow" />

  <link rel="preconnect" href="https://platform.twitter.com" crossorigin />
  <link rel="dns-prefetch" href="//platform.twitter.com" />

  <link rel="manifest" href="./manifest.webmanifest" />
  <link rel="icon" href="./logo_ojo_favicon.png" />
  <link rel="apple-touch-icon" href="./logo_ojo_favicon.png" />

  <link rel="stylesheet" href="./styles.css" />
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  <script defer src="./app.js"></script>

  <title>GlobalEye Trends</title>
</head>

<body>
  <noscript>
    <div class="noscript">Necesitas JavaScript activado para ver tendencias y el feed embebido.</div>
  </noscript>

  <div id="tickerBar" class="ticker hidden" role="region" aria-label="Ticker de tendencias">
    <div class="tickerInner">
      <img class="tickerLogo" src="./logo_ojo_png.png" alt="" />
      <div class="tickerViewport">
        <div id="tickerTrack" class="tickerTrack" aria-label="Tendencias en ticker"></div>
      </div>
      <button id="tickerClose" class="iconBtn" type="button" aria-label="Cerrar ticker">‚úï</button>
    </div>
  </div>

  <header class="topbar" aria-label="GlobalEye Trends">
    <div class="topBg" aria-hidden="true">
      <img class="topBgImg" src="./banner_ojo.jpg" alt="" loading="eager" decoding="async" fetchpriority="high" />
      <div class="topBgShade"></div>
    </div>

    <div class="topInner">
      <div class="brand">
        <img class="brandLogo" src="./logo_ojo_png.png" alt="Logo" />
        <div class="brandText">
          <div class="brandTitle">GlobalEye Trends</div>
          <div class="brandSub">@GlobalEye_TV ¬∑ feed con media + tendencias open data</div>
        </div>
      </div>

      <div class="topActions">
        <a class="btn ghost" href="https://x.com/GlobalEye_TV" target="_blank" rel="noreferrer">Abrir en X</a>
        <button id="btnTicker" class="btn ghost" type="button" aria-pressed="false">Ticker</button>
        <button id="btnConfig" class="btn" type="button">Config</button>
      </div>

      <div class="topStatus" role="status" aria-label="Estado">
        <span class="pill" title="Estado de red">üåê <span id="netStatus">Online</span></span>
        <span class="pill" title="√öltima actualizaci√≥n">‚è± <span id="lastUpdated">‚Äî</span></span>
      </div>
    </div>
  </header>

  <main class="app">
    <aside class="left">
      <div class="card">
        <div class="cardTitle">Acciones</div>
        <div class="btnRow">
          <button id="btnRefresh" class="btn" type="button">Actualizar</button>
          <button id="btnCompact" class="btn ghost" type="button" aria-pressed="false">Compacto</button>
        </div>
        <div class="hint">
          El feed de la derecha usa el widget oficial, por eso muestra <b>im√°genes/v√≠deos</b> sin API.
        </div>
      </div>

      <div class="card">
        <div class="cardTitle">Fuente</div>
        <div class="hint">
          Tendencias calculadas desde titulares recientes v√≠a <b>GDELT</b> (open data). Si tu navegador bloquea el widget, ver√°s fallback.
        </div>
      </div>

      <div class="card donate">
        <div class="cardTitle">Apoya</div>
        <a class="btn kofi" href="https://ko-fi.com/" target="_blank" rel="noreferrer">Donar ‚òï</a>
        <div class="hint muted">Cambia el enlace por tu Ko-fi real cuando quieras.</div>
      </div>
    </aside>

    <section class="center">
      <div class="panel">
        <div class="panelHead">
          <div class="searchWrap">
            <span class="searchIco" aria-hidden="true">üîé</span>
            <input id="q" class="search" type="search" placeholder="Filtrar tendencias‚Ä¶ (ej: trump, barcelona, #bitcoin)" autocomplete="off" />
          </div>

          <div class="filters">
            <select id="selLang" class="select" title="Idioma (GDELT)">
              <option value="spanish">ES</option>
              <option value="mixed">Mixto</option>
              <option value="english">EN</option>
            </select>

            <select id="selWindow" class="select" title="Ventana de tiempo">
              <option value="2H">2H</option>
              <option value="4H" selected>4H</option>
              <option value="6H">6H</option>
              <option value="12H">12H</option>
            </select>

            <select id="selGeo" class="select" title="√Åmbito">
              <option value="ES" selected>ES</option>
              <option value="GLOBAL">GLOBAL</option>
            </select>
          </div>
        </div>

        <div class="panelTabs">
          <div id="tabsView" class="tabs" role="tablist" aria-label="Vista">
            <button class="tab isActive" type="button" data-view="all" aria-selected="true">Tendencias</button>
            <button class="tab" type="button" data-view="favs" aria-selected="false">Favoritos</button>
          </div>

          <div id="tabsCat" class="tabs" role="tablist" aria-label="Categor√≠a">
            <button class="tab isActive" type="button" data-cat="all" aria-selected="true">Todo</button>
            <button class="tab" type="button" data-cat="news" aria-selected="false">Noticias</button>
            <button class="tab" type="button" data-cat="viral" aria-selected="false">Viral</button>
            <button class="tab" type="button" data-cat="politics" aria-selected="false">Pol√≠tica</button>
            <button class="tab" type="button" data-cat="sports" aria-selected="false">Deportes</button>
          </div>
        </div>

        <div id="err" class="err hidden" role="alert"></div>
        <div id="empty" class="empty hidden">No hay resultados con estos filtros.</div>
        <div id="list" class="trendList" aria-live="polite"></div>

        <div class="panelFoot">
          <span class="muted">Sin API de X: el feed se carga con el widget oficial.</span>
        </div>
      </div>
    </section>

    <aside class="right">
      <div class="panel">
        <div class="panelHead slim">
          <div class="panelTitle">Tu feed (X)</div>
          <div class="muted small">Con im√°genes/v√≠deos (widget oficial)</div>
        </div>

        <div class="timelineWrap">
          <div id="timelineMount" class="timelineMount" aria-label="Timeline embebido"></div>
        </div>
      </div>
    </aside>
  </main>

  <div id="toastHost" class="toasts" aria-live="polite" aria-relevant="additions"></div>

  <div id="cfgModal" class="modal hidden" role="dialog" aria-modal="true" aria-label="Configuraci√≥n">
    <div class="modalCard">
      <div class="modalHead">
        <div class="modalTitle">Configuraci√≥n</div>
        <button id="cfgClose" class="iconBtn" type="button" aria-label="Cerrar">‚úï</button>
      </div>

      <div class="modalBody">
        <label class="row">
          <span>Auto-refresh</span>
          <input id="cfgAuto" type="checkbox" checked />
        </label>

        <label class="row">
          <span>Actualizar cada (seg)</span>
          <input id="cfgEvery" class="input" type="number" min="35" max="900" value="120" />
        </label>

        <label class="row">
          <span>M√°x tendencias</span>
          <input id="cfgMaxTrends" class="input" type="number" min="10" max="80" value="35" />
        </label>

        <label class="row">
          <span>Alertas suaves</span>
          <input id="cfgAlerts" type="checkbox" checked />
        </label>

        <label class="row">
          <span>Activar ticker</span>
          <input id="cfgTicker" type="checkbox" />
        </label>

        <label class="row">
          <span>Velocidad ticker (seg)</span>
          <input id="cfgTickerSpeed" class="input" type="number" min="12" max="120" value="28" />
        </label>
      </div>

      <div class="modalFoot">
        <button id="cfgSave" class="btn" type="button">Guardar</button>
      </div>
    </div>
  </div>
</body>
</html>
